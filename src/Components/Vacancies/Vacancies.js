import React, { useState } from "react";
import "./Vacancies.css";

export default function Vacancies() {
  const [openIndex, setOpenIndex] = useState(null);

  const vacancies = [
    {
      title: "–†–∞–∑–Ω–æ—Ä–∞–±–æ—á–∏–π / –≥—Ä—É–∑—á–∏–∫",
      salary: "–æ—Ç 220 000 –¥–æ 250 000 ‚Ç∏ –Ω–∞ —Ä—É–∫–∏",
      payment: "üí∞ –í—ã–ø–ª–∞—Ç—ã: —Ä–∞–∑ –≤ –º–µ—Å—è—Ü",
      requirements: ["–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã: –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è"],
      conditions: ["–ü–æ–ª–Ω–∞—è –∑–∞–Ω—è—Ç–æ—Å—Ç—å", "–ì—Ä–∞—Ñ–∏–∫: 5/2", "–†–∞–±–æ—á–∏–µ —á–∞—Å—ã: 8"],
      duties:
        "–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ —Å—É—Ö–∏—Ö —Å–º–µ—Å–µ–π ‚Äî –≤ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –≤—Ö–æ–¥–∏—Ç –∑–∞–≥—Ä—É–∑–∫–∞ —Å—ã—Ä—å—è –≤ —É—Å—Ç–∞–Ω–æ–≤–∫—É –∏ —Ñ–∞—Å–æ–≤–∫–∞ –≥–æ—Ç–æ–≤–æ–π –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –ø–æ –º–µ—à–∫–∞–º 25 –∫–≥, –¥–∞–ª–µ–µ –Ω–∞ –ø–æ–¥–¥–æ–Ω—ã.",
      location:
        "–ë–∞–∑–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ —É–¥–æ–±–Ω–æ: –∑–∞ –∂/–¥ –º–æ—Å—Ç–æ–º, –≤ —Å—Ç–æ—Ä–æ–Ω—É –≥–∞—Ä–∞–∂–Ω–æ–≥–æ –∫–æ–æ–ø–µ—Ä–∞—Ç–∏–≤–∞.",
      status: "active", // –∞–∫—Ç–∏–≤–Ω–∞—è –≤–∞–∫–∞–Ω—Å–∏—è
    },
    {
      title: "–õ–∞–±–æ—Ä–∞–Ω—Ç —Ö–∏–º–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞",
      salary: "250 000 ‚Ç∏ –Ω–∞ —Ä—É–∫–∏",
      duties: `‚Ä¢ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –≤—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ —Å—ã—Ä—å—è;
‚Ä¢ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞;
‚Ä¢ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –ø—Ä–æ–¥—É–∫—Ü–∏–∏;
‚Ä¢ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –æ–±—Ä–∞–∑—Ü–æ–≤;
‚Ä¢ –≤–µ–¥–µ–Ω–∏–µ —Ä–∞–±–æ—á–∏—Ö –∑–∞–ø–∏—Å–µ–π;
‚Ä¢ —Ä–∞–±–æ—Ç–∞ –Ω–∞ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–±–æ—Ä–∞—Ö;
‚Ä¢ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.`,
      requirements: [
        "–í—ã—Å—à–µ–µ —Ö–∏–º–∏—á–µ—Å–∫–æ–µ –∏–ª–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ",
        "–õ–∏–±–æ —Å—Ä–µ–¥–Ω–µ–µ –ø—Ä–æ—Ñ. + –æ–ø—ã—Ç –æ—Ç 1 –≥–æ–¥–∞",
        "–ó–Ω–∞–Ω–∏–µ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–≥–æ –¥–µ–ª–∞",
        "–£–º–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –º–µ—Ç–æ–¥–∏–∫–∞–º–∏ –∏ –ì–û–°–¢–∞–º–∏",
      ],
      conditions: [
        "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è",
        "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ –∑–∞–¥–∞—á–∏",
        "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –æ–ø—ã—Ç",
      ],
      status: "archived", // –∞—Ä—Ö–∏–≤–Ω–∞—è –≤–∞–∫–∞–Ω—Å–∏—è
    },
  ];

  const toggleVacancy = (index) => {
    setOpenIndex(openIndex === index ? null : index);
  };

  return (
    <div className="vacancies-page">
      <h2>–ù–∞—à–∏ –≤–∞–∫–∞–Ω—Å–∏–∏</h2>

      {vacancies
        .filter((vac) => vac.status === "active") // –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ
        .map((vacancy, index) => (
          <div key={index} className="vacancy-card">
            <div
              className="vacancy-header"
              onClick={() => toggleVacancy(index)}
            >
              <h3>{vacancy.title}</h3>
            </div>

            {openIndex === index && (
              <div className="vacancy-details">
                <p className="salary">{vacancy.salary}</p>
                {vacancy.payment && <p>{vacancy.payment}</p>}

                {vacancy.requirements && (
                  <>
                    <h4>–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è</h4>
                    <ul>
                      {vacancy.requirements.map((req, i) => (
                        <li key={i}>{req}</li>
                      ))}
                    </ul>
                  </>
                )}

                {vacancy.conditions && (
                  <>
                    <h4>–£—Å–ª–æ–≤–∏—è</h4>
                    <ul>
                      {vacancy.conditions.map((cond, i) => (
                        <li key={i}>{cond}</li>
                      ))}
                    </ul>
                  </>
                )}

                {vacancy.duties && (
                  <>
                    <h4>–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏</h4>
                    <p style={{ whiteSpace: "pre-line" }}>{vacancy.duties}</p>
                  </>
                )}

                {vacancy.location && (
                  <>
                    <h4>–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</h4>
                    <p>{vacancy.location}</p>
                  </>
                )}
              </div>
            )}
          </div>
        ))}

      {vacancies
        .filter((vac) => vac.status === "archived")
        .map((vacancy, index) => (
          <div key={index} className="vacancy-card archived">
            <h3>{vacancy.title}</h3>
            <p style={{ color: "gray" }}>–≠—Ç–∞ –≤–∞–∫–∞–Ω—Å–∏—è –≤ –∞—Ä—Ö–∏–≤–µ</p>
          </div>
        ))}
    </div>
  );
}
